<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1">
    <meta content="#ffffff" name="theme-color">
    <meta name="HandheldFriendly" content="true">
    <meta property="og:title" content="Unathi Skosana">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Nondescript">
    <meta property="og:url" content="http://untitld.xyz">

    <link rel="stylesheet" href="/syntax.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
    <link rel="stylesheet" href="/dark.css" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/x-icon" sizes="16x16" href="/favicon/micro-16.png">
    <link rel="icon" type="image/x-icon" sizes="32x32" href="/favicon/micro-32.png">
    <link rel="icon" type="image/x-icon" sizes="64x64" href="/favicon/micro-62.png">
    <link rel="icon" type="image/x-icon" sizes="128x128" href="/favicon/micro-128.png">

    <script type="module" src="https://googlechromelabs.github.io/dark-mode-toggle/src/dark-mode-toggle.mjs"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
    <script>document.addEventListener("DOMContentLoaded", function () {
    var mathElements = document.getElementsByClassName("math");
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
      katex.render(texText.data, mathElements[i], {
        displayMode: mathElements[i].classList.contains('display'),
        throwOnError: false,
        fleqn: false
      });
    }}});
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
    <![endif]-->

    <title>Untitld — Tribute to &pi;</title>
  </head>

  <body>
      <header class="nav-header">
        <h1 class="logo">
          <a href="/">
            <img src="/favicon/micro-128.png" width="32" height="32"/>
          </a>
        </h1>
        <ul class="r navigation">
          <li><a href="/about/">About</a></li>
          <li><a href="/projects/">Projects</a></li>
          <li><a href="/academia/">Academia</a></li>
          <li><a href="/misc/">Misc</a></li>
          <li>
            <dark-mode-toggle
              id="dark-mode-toggle-1"
              dark="Dark"
              light="Light"
              permanent="true"
              />
          </li>
        </ul>
      </header>

      <div class="content">
        <div class="s p">
          <h1>Tribute to &pi;</h1>
          <div class="b">
            <div class="time">
              <span>
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M9 7H11V12H16V14H9V7Z" fill="currentColor" />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z"
                    fill="currentColor"
                  />
                </svg>
                7.0 min
              </span>
              <span>
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8 9C7.44772 9 7 9.44771 7 10C7 10.5523 7.44772 11 8 11H16C16.5523 11 17 10.5523 17 10C17 9.44771 16.5523 9 16 9H8Z"
                    fill="currentColor"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M6 3C4.34315 3 3 4.34315 3 6V18C3 19.6569 4.34315 21 6 21H18C19.6569 21 21 19.6569 21 18V6C21 4.34315 19.6569 3 18 3H6ZM5 18V7H19V18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z"
                    fill="currentColor"
                  />
                </svg>
                03/14/2020
            </span>
            </div>
            <p>Happy 3.14 Day, which also happens to be the day Albert Einstein was born ! So March 14 is irrationally (bad pun, I know) anticipated with much excitement by the science and mathematics communities alike. I will follow tradition, as I did last year and honor <span class="math inline">\pi</span>-day by recreating a visual representation of the digits of <span class="math inline">\pi</span>. The recreation will be a derivative of a 2013 <span class="math inline">\pi</span>-day poster by <a href="https://twitter.com/MKrzywinski">Martin Krzywinski</a> found at <a href="http://mkweb.bcgsc.ca/pi/piday">http://mkweb.bcgsc.ca/pi/piday</a></p>
<p>The digits of <span class="math inline">\pi</span> were computed using the <a href="https://en.wikipedia.org/wiki/Chudnovsky_algorithm">Chudnovsky algorithm</a>. Due to the CPU-intensive nature of such a computation, I precomputed the digits and saved to them a .dat file for reuse. This is less time consuming than computing the digits every time when visualizing them (or if you write buggy programs like I do). Below is the python script that computes the <span class="math inline">n</span> first digits of <span class="math inline">\pi</span> and saves as them to .dat file:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="im">import</span> csv</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="im">from</span> decimal <span class="im">import</span> Decimal, getcontext</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="im">from</span> math <span class="im">import</span> factorial</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="kw">def</span> pi_digits(n):</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a><span class="co">    Computes PI using the Chudnovsky algorithm from</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="co">    http://stackoverflow.com/questions/28284996/python-pi-calculation</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a>    <span class="co"># Set precision</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>    getcontext().prec <span class="op">=</span> n</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a>    t <span class="op">=</span> Decimal(<span class="dv">0</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a>    pi <span class="op">=</span> Decimal(<span class="dv">0</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a>    d <span class="op">=</span> Decimal(<span class="dv">0</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a>    <span class="co"># Chudnovsky algorithm</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true"></a>        t <span class="op">=</span> ((<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span>k)<span class="op">*</span>(factorial(<span class="dv">6</span><span class="op">*</span>k))<span class="op">*</span>(<span class="dv">13591409</span><span class="op">+</span><span class="dv">545140134</span><span class="op">*</span>k)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true"></a>        d <span class="op">=</span> factorial(<span class="dv">3</span><span class="op">*</span>k)<span class="op">*</span>(factorial(k)<span class="op">**</span><span class="dv">3</span>)<span class="op">*</span>(<span class="dv">640320</span><span class="op">**</span>(<span class="dv">3</span><span class="op">*</span>k))</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true"></a>        pi <span class="op">+=</span> Decimal(t) <span class="op">/</span> Decimal(d)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true"></a>    pi <span class="op">=</span> pi <span class="op">*</span> Decimal(<span class="dv">12</span>) <span class="op">/</span> Decimal(<span class="dv">640320</span><span class="op">**</span>(Decimal(<span class="fl">1.5</span>)))</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true"></a>    pi <span class="op">=</span> <span class="dv">1</span> <span class="op">/</span> pi</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true"></a>    <span class="cf">return</span> <span class="bu">str</span>(pi)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true"></a></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true"></a>    <span class="im">import</span> argparse</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true"></a>    <span class="co"># Parse arguments</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true"></a>    parser <span class="op">=</span> argparse.ArgumentParser(</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true"></a>        description<span class="op">=</span><span class="st">&quot;Compute Pi digits that fit in an r x c grid.&quot;</span>)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true"></a>    parser.add_argument(<span class="st">&quot;r&quot;</span>, nargs<span class="op">=</span><span class="dv">1</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&quot;Rows of grid&quot;</span>)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true"></a>    parser.add_argument(<span class="st">&quot;c&quot;</span>, nargs<span class="op">=</span><span class="dv">1</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&quot;Columns of grid&quot;</span>)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true"></a>    args <span class="op">=</span> parser.parse_args()</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true"></a>    rows <span class="op">=</span> args.r[<span class="dv">0</span>]</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true"></a>    cols <span class="op">=</span> args.c[<span class="dv">0</span>]</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true"></a>    <span class="co"># Put digits in 2D array</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true"></a>    digits <span class="op">=</span> pi_digits(rows <span class="op">*</span> cols)</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true"></a>    digits <span class="op">=</span> digits.replace(<span class="st">&quot;.&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true"></a>    digits <span class="op">=</span> [[digits[r<span class="op">*</span>cols <span class="op">+</span> c] <span class="cf">for</span> c <span class="kw">in</span> <span class="bu">range</span>(cols)] <span class="cf">for</span> r <span class="kw">in</span> <span class="bu">range</span>(rows)]</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true"></a>    <span class="co"># digits to .dat file to reuse</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;pi_</span><span class="sc">{}</span><span class="st">_by_</span><span class="sc">{}</span><span class="st">.dat&#39;</span>.<span class="bu">format</span>(rows, cols), <span class="st">&#39;w&#39;</span>, newline<span class="op">=</span><span class="st">&#39;&#39;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true"></a>        writer <span class="op">=</span> csv.writer(<span class="bu">file</span>)</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true"></a>        writer.writerows(digits)</span></code></pre></div>
<p>Since the digits will be displayed on a grid, the python script takes as input the dimensions of the grid, the number of rows and number of columns respectively.</p>
<p>Now that we have computed the <span class="math inline">n = rc</span> digits of <span class="math inline">\pi</span>, we want to visualize them. The visualization was done using <code>scatter</code> from <code>matplotlib</code> where the digits are laid out on a <span class="math inline">r \times c</span> evenly-spaced meshgrid and the values of the digits are used to fill the colors of the points on the grid, these colors are taken from a discrete color map of size <span class="math inline">10</span>. The python script used to read the digits from a file and visualize them as explained above is as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="im">import</span> csv</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="im">from</span> matplotlib <span class="im">import</span> rc</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co"># Aesthetics</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>rc(<span class="st">&#39;font&#39;</span>, <span class="op">**</span>{<span class="st">&#39;family&#39;</span>: <span class="st">&#39;monospace&#39;</span>,</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>              <span class="st">&#39;serif&#39;</span>: [<span class="st">&#39;DejaVu Sans Mono&#39;</span>], <span class="st">&#39;size&#39;</span>: <span class="st">&#39;20&#39;</span>})</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>rc(<span class="st">&#39;text&#39;</span>, usetex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a>plt.style.use(<span class="st">&#39;dark_background&#39;</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a><span class="kw">def</span> read_digits(dat):</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>    digits <span class="op">=</span> []</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a>    <span class="cf">with</span> <span class="bu">open</span>(dat) <span class="im">as</span> csv_file:</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>        csv_reader <span class="op">=</span> csv.reader(csv_file, delimiter<span class="op">=</span><span class="st">&#39;,&#39;</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a>        <span class="cf">for</span> row <span class="kw">in</span> csv_reader:</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a>            digits.append(row)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a>    <span class="cf">return</span> np.array(digits, dtype<span class="op">=</span><span class="st">&quot;int&quot;</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a><span class="co"># By Jake VanderPlas</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a><span class="co"># License: BSD-style</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a><span class="co"># https://gist.github.com/jakevdp/91077b0cae40f8f8244a</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true"></a><span class="kw">def</span> discrete_cmap(N, base_cmap<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Create an N-bin discrete colormap from the specified input map&quot;&quot;&quot;</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true"></a>    <span class="co"># Note that if base_cmap is a string or None, you can simply do</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true"></a>    <span class="co">#    return plt.cm.get_cmap(base_cmap, N)</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true"></a>    <span class="co"># The following works for string, None, or a colormap instance:</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true"></a>    base <span class="op">=</span> plt.cm.get_cmap(base_cmap)</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true"></a>    color_list <span class="op">=</span> base(np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, N))</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true"></a>    cmap_name <span class="op">=</span> base.name <span class="op">+</span> <span class="bu">str</span>(N)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true"></a>    <span class="cf">return</span> base.from_list(cmap_name, color_list, N)</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true"></a>    <span class="im">import</span> argparse</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true"></a></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true"></a>    <span class="co"># Parse arguments</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true"></a>    parser <span class="op">=</span> argparse.ArgumentParser(</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true"></a>        description<span class="op">=</span><span class="st">&quot;Read digits from data file.&quot;</span>)</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true"></a>    parser.add_argument(<span class="st">&quot;dat&quot;</span>, nargs<span class="op">=</span><span class="dv">1</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">str</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&quot;name of file&quot;</span>)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true"></a>    args <span class="op">=</span> parser.parse_args()</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true"></a></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true"></a>    dat <span class="op">=</span> args.dat[<span class="dv">0</span>]</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true"></a>    digits <span class="op">=</span> read_digits(dat)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true"></a>    r, c <span class="op">=</span> np.shape(digits)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true"></a>    x, y <span class="op">=</span> np.meshgrid(np.arange(r), np.arange(c))</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true"></a>    fig, axes <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(r, c))</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true"></a>    scat <span class="op">=</span> axes.scatter(x, y, c<span class="op">=</span>digits[x, y], s<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true"></a>                        cmap<span class="op">=</span>discrete_cmap(<span class="dv">10</span>, <span class="st">&#39;rainbow&#39;</span>))</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true"></a>    axes.axis(<span class="st">&#39;off&#39;</span>)</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true"></a></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true"></a>    <span class="co"># produce a legend with the unique colors from the scatter</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true"></a>    legend1 <span class="op">=</span> axes.legend(<span class="op">*</span>scat.legend_elements(),</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true"></a>                          loc<span class="op">=</span><span class="st">&quot;lower center&quot;</span>, ncol<span class="op">=</span><span class="dv">10</span>, frameon<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true"></a>                          bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>))</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true"></a>    axes.add_artist(legend1)</span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true"></a>    plt.tight_layout()</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true"></a>    fig.savefig(<span class="st">&#39;pi_</span><span class="sc">{}</span><span class="st">_by_</span><span class="sc">{}</span><span class="st">.svg&#39;</span>.<span class="bu">format</span>(r, c), <span class="bu">format</span><span class="op">=</span><span class="st">&#39;svg&#39;</span>, dpi<span class="op">=</span><span class="dv">1200</span>,</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true"></a>                pad_inches<span class="op">=</span><span class="dv">0</span>)</span></code></pre></div>
<p>The visualizations below were for <span class="math inline">23\times23</span> and <span class="math inline">31\times31</span> grids (yes, I like primes) respectively.</p>
<p><img src="./pi_23_by_23.png#center" title="pi 23x23" /> <img src="./pi_31_by_31.png#center" title="pi 31x31" /></p>
<p>What would be even more visually appealing is if we could connect the same-valued digits that are one point away from each other in either direction with edges as in the original poster. For example, for a 3 by 3 grid</p>
<p><span class="math display">
\begin{aligned}
    3,1,4 \\
    1,5,9 \\
    2,6,6
\end{aligned}
</span></p>
<p>In this case the <span class="math inline">1</span>s across the diagonal from the first row and second row will be connected with an edge. Similarly the <span class="math inline">6</span>s along the third row will be connected with an edge.</p>
<p>To do this, we need to able to find the indices of the connected clusters of numbers across the whole grid and use them to draw the edges between the corresponding grid points. Scouring around the internet, I found that such a computation is related to a concept in graph theory, which is the concept of <a href="https://en.wikipedia.org/wiki/Component_(graph_theory)">connected components</a> of an undirected graph. Finding the connected components of all the digits from <span class="math inline">0-9</span> across the grid will give us what we seek. At first sight, this seemed like a daunting task and I was apprehensive of whether a vanilla python implementation would be up to the task. However, it turns out this task is related to labeling components in a pixel array. Consider the following <span class="math inline">3\times3</span> pixel array.</p>
<p><span class="math display">
\begin{aligned}
    0,1,0 \\
    1,0,1 \\
    0,1,0
\end{aligned}
</span></p>
<p>The four <span class="math inline">1</span>s in the grid would deemed as a label/component and we would have only one component in the grid. The <code>SciPy</code> has a high performance C implementation, <code>scipy.ndimage.label</code>, to label the components and subsequently extract their indices. The single downfall of this method is that it also considers isolated groups (<span class="math inline">1</span> surrounded by <span class="math inline">0</span>s in all directions) as connected components. However, one can filter out isolated groups from the original array as done <a href="https://stackoverflow.com/questions/28274091/removing-completely-isolated-cells-from-python-array">here</a>. Putting this all together, we can produce the stunning visuals below. Here are the visualizations for <span class="math inline">23\times23</span> and <span class="math inline">31\times31</span> grids.</p>
<p><img src="./pi_23_by_23_edges.png#center" title="pi 23x23" /> <img src="./pi_31_by_31_edges.png#center" title="pi 31x31" /></p>
<p>The updated source code and higher quality images can be found <a href="https://github.com/Unathi-Skosana/numart">here</a>. If you have comments or quarrels, <a href="/">reach out</a>.</p>
<h2 id="updates-23-by-23-meshgrids-for-eulers-number-and-the-golden-ratio">Updates : 23 by 23 meshgrids for Euler’s number and the golden ratio</h2>
<p><img src="./e_23_by_23_edges.png#center" title="e 23x23" /> <img src="./phi_23_by_23_edges.png#center" title="phi 23x23" /></p>
<h2 id="sources">Sources:</h2>
<ul>
<li>[1] : https://stackoverflow.com/questions/46737409/finding-connected-components-in-a-pixel-array</li>
<li>[2] : https://stackoverflow.com/questions/28274091/removing-completely-isolated-cells-from-python-array</li>
<li>[3] : https://stackoverflow.com/questions/28284996/python-pi-calculation</li>
<li>[4] : http://mkweb.bcgsc.ca/pi/piday/</li>
<li>[5] : https://en.wikipedia.org/wiki/Component_(graph_theory)</li>
<li>[6] : https://en.wikipedia.org/wiki/Chudnovsky_algorithm</li>
<li>[7] : https://gist.github.com/jakevdp/91077b0cae40f8f8244a</li>
</ul>

          </div>
        </div>
      </div>
    <footer>
      <div class="separator"></div>
      <a href="https://github.com/Unathi-Skosana">Github</a>
      ·
      <a href="https://twitter.com/UnathiSkosana">Twitter</a>
      ·
      <a href="mailto:ukskosana@gmail.com">Mail</a>
      ·
      <a href="mailto:ukskosana@gmail.com">RSS</a>
    </footer>
  </body>
</html>
